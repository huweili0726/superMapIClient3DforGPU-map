<!--********************************************************************
* Copyright© 2000 - 2024 SuperMap Software Co.Ltd. All rights reserved.
*********************************************************************-->
<nav id="nav" class="navbar navbar-static-top default">
    <div class="nav-header">
        <div class="navcontentfixed">
            <div class="navbar-header">
                <div class="navbar-title">
                    <a class="navbar-brand" target="_self" href="{{nav.path}}./index.html">
                        <span class="project-logo" id="logo"></span>
                    </a>
                </div>
            </div>
             <!-- 大分辨率菜单栏 -->
            <div class="collapse navbar-collapse navbar-custom-menu" >
                <ul class="nav navbar-nav">
                    <!-- 首页 -->
                    <li class="navbar-menu" id="home-menu">
                        <a target="_self" href="{{nav.path}}./index.html" class="center" data-i18n="nav.home._name"></a>
                    </li>

                    <!-- 产品 -->
                    <li class="navbar-menu" id="product-menu">
                        <a class="center" data-i18n="nav.product._name"></a>
                        <span class="arrow"></span>

                        <div class="menu-box">
                            <div class="menu-sub-warp">
                                <div class="tabbable tabs-left">
                                    <!-- 产品分类 -->
                                    <ul class="nav nav-tabs bold-titile">
                                        <li class="active"><a data-target="#tab-webgl" data-i18n="nav.webgl._name"></a></li>
                                        <!-- Cesium 产品包 -->
                                        <!-- <li><a data-target="#tab-cesium" data-i18n="nav.cesium._name"></a></li> -->
                                        <li class="product-img"></li>
                                    </ul>
                                    <!-- 产品内容 -->
                                    <div class="tab-content">
                                        <!-- WebGL/WebGPU -->
                                        <ul class="icl-nav-menu-box tab-pane active" id="tab-webgl">
                                            <!-- 产品 -->
                                            <li>
                                                <a class="icl-nav-menu-title" data-i18n="nav.product._name" target="_self"
                                                    href="{{nav.path}}./introduction/intro_3DWebgl.html"></a>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_self" data-i18n="nav.product.introduce"
                                                            href="{{nav.path}}./introduction/intro_3DWebgl.html#introduce"></a></li>
                                                    <li><a target="_self" data-i18n="nav.product.download"
                                                            href="{{nav.path}}./downloads/download1.html"></a></li>
                                                    <li><a target="_self" data-i18n="nav.product.modules"
                                                            href="{{nav.path}}./introduction/intro_3DWebgl.html#modules"></a></li>
                                            
                                                    <li><a target="_self" data-i18n="nav.product.license"
                                                            href="{{nav.path}}./introduction/intro_3DWebgl.html#license"></a></li>
                                                    <li><a target="_self" data-i18n="nav.product.environment"
                                                            href="{{nav.path}}./introduction/intro_3DWebgl.html#environment"></a></li>
                                                </ul>
                                            </li>

                                            <!-- 开发指南 -->
                                            <li>
                                                <a class="icl-nav-menu-title" data-i18n="nav.guide._name" target="_self"
                                                    href="{{nav.path}}./introduction/3DforWebGL.html"></a>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_self" data-i18n="nav.guide.ready"
                                                        href="{{nav.path}}./introduction/3DforWebGL.html#Ready"></a>
                                                    </li>
                                                    <li><a target="_self" data-i18n="nav.guide.createMap"
                                                            href="{{nav.path}}./introduction/3DforWebGL.html#createMap"></a>
                                                    </li>
                                                    <li><a target="_self" data-i18n="nav.guide.multiProjection"
                                                            href="{{nav.path}}./introduction/3DforWebGL.html#multiProjection"></a>
                                                    </li>
                                                    <li><a target="_self" data-i18n="nav.guide.SetScene"
                                                            href="{{nav.path}}./introduction/3DforWebGL.html#SetScene"></a>
                                                    </li>
                                                    <li><a target="_self" data-i18n="nav.guide.Query"
                                                            href="{{nav.path}}./introduction/3DforWebGL.html#Query"></a>
                                                    </li>
                                                    <li><a target="_self" data-i18n="nav.guide.Measure"
                                                            href="{{nav.path}}./introduction/3DforWebGL.html#Measure"></a>
                                                    </li>
                                                    <li><a target="_self" data-i18n="nav.guide.DrawHandler"
                                                            href="{{nav.path}}./introduction/3DforWebGL.html#DrawHandler"></a>
                                                    </li>
                                                    <li><a target="_self" data-i18n="nav.guide.Analysis"
                                                            href="{{nav.path}}./introduction/3DforWebGL.html#Analysis"></a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <!-- 示例 -->
                                            <li>
                                                <a class="icl-nav-menu-title" data-i18n="nav.examples._name" target="_self"
                                                    href="{{nav.path}}../examples/webgl/examples.html"></a>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_self" data-i18n="nav.examples.examples"
                                                        href="{{nav.path}}../examples/webgl/examples.html"></a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <!-- API -->
                                            <li>
                                                <a class="icl-nav-menu-title" data-i18n="nav.api._name" target="_self"
                                                    href="{{nav.path}}../docs/Documentation/index.html"></a>
                                                <!--api文档dom节点增加id,用于挂载专用研发团队的帮助文档dom-->  
                                                <ul class="icl-nav-menu-sub" id="icl-nav-menu-sub-api">
                                                    <li><a target="_self" data-i18n="nav.api.webglDoc"
                                                        href="{{nav.path}}../docs/Documentation/index.html"></a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <!-- 接口变更 -->
                                            <li>
                                                <a class="icl-nav-menu-title" data-i18n="nav.apichange._name" target="_self"
                                                    href="./APIChange.html#APIChange"></a>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_self" data-i18n="nav.apichange._name"
                                                        href="./APIChange.html#APIChange"></a>
                                                    </li>
                                                    <li><a target="_self" data-i18n="nav.apichange.newAPI"
                                                        href="./APIChange.html#newAPI"></a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <!-- 专用开发指南 -->
                                            <li id="mgis-dev-doc">
                                            </li>
                                        </ul>
                                        
                                        <!-- Cesium -->
                                        <ul class="icl-nav-menu-box tab-pane" id="tab-cesium">
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>

                    <!-- 技术专题 -->
                    <li class="navbar-menu" id="product-menu">
                        <a class="center" data-i18n="nav.technicalTopics._name"></a>
                        <span class="arrow"></span>

                        <div class="menu-box">
                            <div class="menu-sub-warp">
                                <div class="tabbable tabs-left">
                                    <ul class="nav nav-tabs bold-titile">
                                        <!-- <li class="active"><a data-target="#tab-webgl" data-i18n="nav.webgl._name"></a></li> -->
                                        <!-- Cesium 产品包 -->
                                        <!-- <li><a data-target="#tab-cesium" data-i18n="nav.cesium._name"></a></li> -->
                                        <li class="product-img"></li>
                                    </ul>

                                    <!-- 文档分类 -->
                                    <div class="tab-content">
                                        <ul class="icl-nav-menu-box tab-pane active" id="tab-webgl">
                                            <!-- 数据加载 -->
                                            <li>
                                                <div class="icl-nav-menu-title" data-i18n="nav.topicType.dataLoad"></div>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_blank" data-i18n="nav.topic.BIM" href="{{nav.path}}../examples/TopicDOC/LoadBIM_OperateTopic.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.Gltf"
                                                            href="{{nav.path}}../examples/TopicDOC/LoadGltfModel_OperateTopic.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.imagery"
                                                            href="{{nav.path}}../examples/TopicDOC/LoadImagery_OperateTopic.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.LOM"
                                                            href="{{nav.path}}../examples/TopicDOC/LoadObliqueModel_OperateTopic.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.terrain"
                                                            href="{{nav.path}}../examples/TopicDOC/LoadTerrain_OperateTopic.html"></a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <!-- 数据处理 -->
                                            <li>
                                                <div class="icl-nav-menu-title" data-i18n="nav.topicType.dataProcess"></div>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_blank" data-i18n="nav.topic.Bentley"
                                                            href="{{nav.path}}../examples/TopicDOC/Instruction of Export Coordinate and Model of Plugin for Bentley.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.Terrain to TIN"
                                                            href="{{nav.path}}../examples/TopicDOC/Process of Large-Scale Terrain to TIN.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.Terrain to Imagery"
                                                            href="{{nav.path}}../examples/TopicDOC/Process of Large-Scale Terrain to Imagery.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.Oblique Photogrammetry"
                                                            href="{{nav.path}}../examples/TopicDOC/Process of Large-Scale Oblique Photogrammetry.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.Man-made Model"
                                                            href="{{nav.path}}../examples/TopicDOC/Precautions And Process of Man-made Model.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.Vector Region Stretching"
                                                            href="{{nav.path}}../examples/TopicDOC/Process and Ideas of Vector Region Stretching.html"></a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <!-- 效果制作 -->
                                            <li>
                                                <div class="icl-nav-menu-title" data-i18n="nav.topicType.effectProduction"></div>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_blank" data-i18n="nav.topic.fmt" href="{{nav.path}}../examples/TopicDOC/FlyManagerTopic.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.Geological Model"
                                                            href="{{nav.path}}../examples/TopicDOC/Solutions on Geological Model.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.aqom"
                                                            href="{{nav.path}}../examples/TopicDOC/AttributeQueryofObliqueModel_OperateTopic.html"></a></li>
                                                    <li><a target="_blank" data-i18n="nav.topic.DWG"
                                                            href="{{nav.path}}../examples/TopicDOC/subObjectsSelectionOfPointHanging.html"></a></li>
                                                    <li><a target="_blank" data-i18n="nav.topic.thematicMap" href="{{nav.path}}../examples/TopicDOC/ThematicMap.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.Bofw"
                                                            href="{{nav.path}}../examples/TopicDOC/Beatifucation and optimization common setting for 3D scene in WebGL.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.UPBR"
                                                            href="{{nav.path}}../examples/TopicDOC/Using Json file to modify PBR displaying effect in WebGL.html"></a></li>
                                                    <li><a target="_blank" data-i18n="nav.topic.CFE"
                                                            href="{{nav.path}}../examples/TopicDOC/Create Flow Effects for Pipes.html"></a></li>
                                                    <li><a target="_blank" data-i18n="nav.topic.GDP"
                                                            href="{{nav.path}}../examples/TopicDOC/Guide to Data Processing and Visualization for Models with a Time Dimension.html"></a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <!-- 性能优化 -->
                                            <li>
                                                <div class="icl-nav-menu-title" data-i18n="nav.topicType.performance"></div>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_blank" data-i18n="nav.topic.BIM Factory"
                                                            href="{{nav.path}}../examples/TopicDOC/Optimization on Performace and Process Method of BIM Factory.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.HST"
                                                            href="{{nav.path}}../examples/TopicDOC/Optimization of 3D Hardware Configuration for SuperMap GIS.html"></a>
                                                    </li>
                                                </ul>
                                            </li>

                                            <!-- 其他 -->
                                            <li>
                                                <div class="icl-nav-menu-title" data-i18n="nav.topicType.other"></div>
                                                <ul class="icl-nav-menu-sub">
                                                    <li><a target="_blank" data-i18n="nav.topic.topVue"
                                                            href="{{nav.path}}../examples/TopicDOC/Vue&WebGLDevelopment.html"></a></li>
                                                    <li><a target="_blank" data-i18n="nav.topic.subdomains" href="{{nav.path}}../examples/TopicDOC/subdomains.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.WebGPU" href="{{nav.path}}../examples/TopicDOC/HowToUseWebGPU.html"></a>
                                                    </li>
                                                    <li><a target="_blank" data-i18n="nav.topic.token" href="{{nav.path}}../examples/TopicDOC/HowToUseToken.html"></a></li>
                                                    <li><a target="_blank" data-i18n="nav.topic.webapi"
                                                            href="{{nav.path}}../examples/TopicDOC/Local_Deployment_and_Execution_Guide_for_Examples_in_SuperMap_iClient3D_for_WebGLWebGPU_Product_Package.html"></a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>

                    <!-- vue组件 -->
                    <!-- <li class="navbar-menu" id="versions-menu">
                        <a class="center" data-i18n="nav.vuecomps._name"></a>
                        <span class="arrow"></span>

                        <div class="menu-box">
                            <div class="menu-sub-warp">
                                <ul class="icl-nav-menu-box bold-titile">
                                    <li>
                                        <a class="icl-nav-menu-title" data-i18n="nav.vuecomps.v2name" target="_self" href="http://support.supermap.com.cn:8090/webgl/examples/component/dist"></a>
                                        <ul class="icl-nav-menu-sub">
                                            <li><a target="_self" class="icl-nav-version" data-i18n="nav.vuecomps.v2DevGuide"
                                                href="http://support.supermap.com.cn:8090/webgl/examples/component/dist"></a></li>
                                            <li><a target="_self" class="icl-nav-version" data-i18n="nav.vuecomps.v2Examples"
                                                href="{{nav.path}}../examples/component/examples.html"></a></li>
                                        </ul>
                                    </li>

                                    <li>
                                        <a class="icl-nav-menu-title" data-i18n="nav.vuecomps.v3name" target="_self" href="https://www.supermapol.com/earth/vue-iEarth/examples/docs/dist/index.html"></a>
                                        <ul class="icl-nav-menu-sub">
                                            <li><a target="_self" class="icl-nav-version" data-i18n="nav.vuecomps.v3DevGuide"
                                                href="https://www.supermapol.com/earth/vue-iEarth/examples/docs/dist/index.html"></a></li>
                                            <li><a target="_self" class="icl-nav-version" data-i18n="nav.vuecomps.v3Examples"
                                                href="https://www.supermapol.com/earth/vue-iEarth/examples/index.html"></a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </li> -->

                    <!-- iEarth -->
                    <li class="navbar-menu dropdown" id="overview-menu">
                        <a class="center dropdown-toggle" data-i18n="nav.earth._name" data-toggle="dropdown" ></a>
                        <span class="arrow"></span>

                        <ul class="dropdown-menu icl-nav-menu-overivew">
                           <li><a target="_blank" data-i18n="nav.earth.iEarth"
                                    href="http://www.supermapol.com/earth/"></a>
                            </li>
                        </ul>
                    </li>                    

                    <!-- 环境检测 -->
                    <li class="navbar-menu dropdown">
                        <a class="center dropdown-toggle" data-i18n="nav.envreport._name" data-toggle="dropdown" ></a>
                        <span class="arrow"></span>

                        <ul class="dropdown-menu icl-nav-menu-overivew">
                           <li><a target="_blank" data-i18n="nav.envreport.enviromentReport"
                                    href="../examples/webglreport.html"></a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

             <!-- 小分辨率下拉菜单栏 -->
            <div class="nav collapse navbar-collapse" id="navbar-collapse"></div>
            
            <div class="navbar-rightbar">
                <ul>
                    <!-- 版本号 -->
                    <li>
                        <span class="project-title vm" id="title">
                            <span>{{nav.title}}</span>
                            <span class="pre-release" id="version">{{nav.version}}</span>
                        </span>
                    </li>
                    <!-- 中英文 -->
                    <!-- <li class="hideInSmallResolution dropdown">
                        <a class="dropdown-toggle lang-label" data-toggle="dropdown" href="#"> 
                            <span>中文</span>
                            <span class="arrow"></span>
                        </a>
                        <ul class="dropdown-menu lang-box">
                            <li><a class="lang-option" data-lang="zh-CN">中文</a></li>
                            <li><a class="lang-option" data-lang="en-US">English</a></li>
                        </ul>
                    </li> -->
                    <!-- 主题 -->
                    <li class="hideInSmallResolution dropdown">
                      <a class="dropdown-toggle skin-icon" data-toggle="dropdown" href="#"><span class="arrow"></span></a>
                      <ul class="dropdown-menu skin-box">
                          <li><a data-type="light" class="light-theme">亮色主题</a></li>
                          <li><a data-type="dark" class="dark-theme">深色主题</a></li>
                      </ul>
                    </li>
                    <!-- FAQ -->
                    <!-- <li class="hideInSmallResolution">
                        <a href="{{nav.path}}./faq/faq.html" class="faq-icon" title="FAQ"></a>
                    </li> -->
                    <!-- 小尺寸toggle按钮 -->
                    <li class="navbar-toggle">
                        <a href="#" class=" collapsed" data-toggle="collapse"
                            data-target="#navbar-collapse" aria-expanded="false">
                        </a>
                    </li>
              </ul>
            </div>
        </div>
    </div>
</nav>
<script type="text/javascript">
    window.isSite = true;
    var navigation = {
        nav: {
          path: window.path,
          isLocal: window.isLocal
        }
    };
    utils.loadTemplate('#navbar-collapse', window.path + 'template/nav-collapse.html', navigation);
    $(document).ready(function () {
        $(".icl-nav-menu-title").each(function (key, item) {
            if ($(item).next('ul').length === 0) {
                return;
            }
            $(item).css('border-bottom', '1px solid var(--border-color)');
        });
        // 判断example中的menu版本号是否与window.version相同
        function hasNewExamples(config) {
            var hasNewExamples = false;
            if (config.content) {
                a: for (var key in config.content) {
                    var examples = config.content[key].content;
                    if (examples) {
                        for (var index = 0; index < examples.length; index++) {
                            var element = examples[index];
                            if (element.version === window.version) {
                                hasNewExamples = true;
                                continue a;
                            }
                        }
                    }
                }
            }
            return hasNewExamples;
        }
        // 加载example下的menu
        function loadExamplesMenu(examplesConfig, type) {
           // 版本新增产品添加红点
            if (examplesConfig && examplesConfig.version && examplesConfig.version === window.version) {
              $("a[data-target='#tab-" + type + "']").parent().append('<span class="product-red-circle"></span>');
            }
            if (examplesConfig && examplesConfig.version) {
              delete examplesConfig.version;
            }
            var redCircle;
            a: for (var name in examplesConfig) {
                redCircle = '';
                var item = examplesConfig[name];
                if (!item) {
                    continue;
                }
                if (window.isLocal && item.localIgnore) {
                    continue;
                }
                // 判断是否是新特性，如果是就有小红点
                if (hasNewExamples(item)) {
                    redCircle = '<span class="red-circle"></span>'
                }
                if (item.name) {
                    var template =
                        '<li style="position:relative"><a target="_self" data-i18n="nav.examples.' + name +
                        '" href="{{nav.path}}../examples/' + type + '/examples.html#' + name + '"></a>' +
                        redCircle + '</li>';
                    $('#' + type + '-examples-menu').append(template);
                }
            }
            // mapboxgl和leaflet的示例菜单下面新增组件示例链接，跳转至对应组件示例页面
            if (type === "mapboxgl") {
                var VueMapboxGL =
                    '<li style="position:relative"><a target="_self" ' +
                    'href = "{{nav.path}}../examples/component/examples.html#vuecomponents_mbgl" > Vue - MapboxGL </a></li > ';
                var ReactMapboxGL =
                    '<li style="position:relative"><a target="_self" ' +
                    ' href="{{nav.path}}../examples/component/examples.html#reactcomponents_mbgl"> React - MapboxGL </a></li> ';
                $('#' + type + '-examples-menu').append(VueMapboxGL);
                $('#' + type + '-examples-menu').append(ReactMapboxGL);
            } else if (type === "leaflet") {
                var VueLeaflet =
                    '<li style="position:relative"><a target="_self" ' +
                    ' href="{{nav.path}}../examples/component/examples.html#vuecomponents_leaflet"> Vue - Leaflet </a></li > ';
                $('#' + type + '-examples-menu').append(VueLeaflet);
            }
        };
        loadExamplesMenu(window.leafletExampleConfig, 'leaflet');
        loadExamplesMenu(window.openlayersExampleConfig, 'openlayers');
        loadExamplesMenu(window.mapboxglExampleConfig, 'mapboxgl');
        loadExamplesMenu(window.maplibreglExampleConfig, 'maplibregl');
        loadExamplesMenu(window.classicExampleConfig, 'classic');
        loadExamplesMenu(window.componentExampleConfig, 'component');
        loadTechnicalTopicsMenu();
        $('.icl-header .navbar-menu').on("click  touchend", select);

        function select(evt) {
            $(this).siblings().removeClass('active');
            $(this).addClass('active');
        }
        $(".icl-header .menu-box").on("mouseleave", function (e) {
            e.stopPropagation();
            $(this).parent(".navbar-menu").removeClass('active');
            addActive();
        });

        function addActive() {
            window.location.href.indexOf('index') > -1 && $("#home-menu").addClass('active');
            window.location.href.indexOf('overview') > -1 && $("#overview-menu").addClass('active');
            var productMenuArr = ['leaflet', 'openlayers', 'mapboxgl', 'maplibregl', 'classic', 'component']
            var openedProductMenu = productMenuArr.filter(function(product) { return window.location.href.indexOf(product) > -1;})[0]
            if(openedProductMenu){
              $("#product-menu").addClass('active');
              $("a[data-target='#tab-" + openedProductMenu + "']").tab('show');
            }
            window.location.href.indexOf('technical-topics') > -1 && $("#technical-topics-menu").addClass('active');
            window.location.href.indexOf('download') > -1 && $("#download-menu").addClass('active');
        }
        addActive();

        function menu_hover() {
            var currentTarget = '';
            $(".navbar-menu").each(function (title_key, title_item) {
                $(title_item).on("mouseenter", function (e) {
                    if (currentTarget) {
                        currentTarget.css("max-height", "0px").removeClass("show_menu-sub-warp");
                    }
                    if (title_key !== 0) {
                        var meunBox_height = $(window).height() - $("#nav").height() - 50;
                        currentTarget = $(e.currentTarget).children().children();
                        currentTarget.css("max-height", meunBox_height+'px').addClass("show_menu-sub-warp");
                    }
                });
            });
            $(".menu-sub-warp").each(function (content_key, content_item) {
                $(content_item).on("mouseenter", function (e) {
                    e.stopPropagation();
                });
                $(content_item).on("mouseleave", function (e) {
                    if (e.relatedTarget) {
                        const relatedTarget = $(e.relatedTarget);
                        if (relatedTarget.hasClass('navbar-nav') || relatedTarget.parent().hasClass('navbar-nav') || relatedTarget.parent().parent().hasClass('navbar-nav')) {
                            return;
                        }
                    }
                    $(content_item).css("max-height", "0px").removeClass("show_menu-sub-warp");
                });
            });
            $(".navbar-nav ").on("mouseleave", function (e) {
                $(currentTarget).css("max-height", "0px").removeClass("show_menu-sub-warp");
            })
        }
        menu_hover();
        $(window).resize(function () {
            var meunBox_top = $("#nav").height();
            $(".menu-box").css("top", meunBox_top +'px');
        })
        if (!window.isLocal) {
            var _hmt = _hmt || [];
            (function () {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?c5936336652cb6060f89e17120aff244";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        }
        function loadTechnicalTopicsMenu() {
          var targetDom = document.getElementsByClassName('icl-nav-menu-technical-topics')[0];
          var host = 'https://iclient.supermap.io/web';
          $.get(host + "/technical-topics/" + 'zh' + '/categories.json', {} , function (res) {
            var html = '';
            res.filter(function(item) {
              return !item.version || window.compareVersions.compare(window.version, item.version, '>=');
            }).forEach(function(item) {
              html += '<li>' +
                '<a target="_self" href="' + host + '/technical-topics.html#' + item.path + '">' + item.title + '</a>' +
                '</li>';
            });
            targetDom.innerHTML = html;
          }, "json");
        }
        // 将点击展开下拉菜单改为鼠标移入就展开
        $(function() {
          $(document).off('click.bs.dropdown.data-api');
          $('.dropdown').mouseenter(function() {
              $(this).addClass('open');
          }).mouseleave(function() {
              $(this).removeClass('open');
          });
        });
        // 鼠标移入激活产品tab
        $(function() {
          $('#product-menu .nav-tabs>li>a').mouseenter(function() {
              $(this).tab('show');
          })
        });
        // 切换主题
        $('.skin-box>li>a').on("click  touchend", function(e) {
          $(this).addClass('theme-item');
          var skin = e.currentTarget.dataset.type;
          utils.setCookie('theme', skin, 7 * 24 * 60 * 60 * 1000);
          $('body').removeClass("light dark").addClass(skin);
          setRootStyle(skin);
        });
        
        // 不影响当前逻辑，用于专用研发团队的打包时挂载MGIS的帮助文档,如需修改请联系专用产品研发团队
        $("#icl-nav-menu-sub-api").append("<script type='text/javascript' src='{{nav.path}}./apis/MGISConfig.js'><\/script>");
        if(typeof addMGISAPIDOM == 'function'){
            addMGISAPIDOM("{{nav.path}}./apis/MGIS.html");
        }
        
        // 不影响当前逻辑，用于专用研发团队的打包时挂载MGIS的QA帮助文档,如需修改请联系专用产品研发团队
        if(typeof addMGISQADOM == 'function'){
            addMGISQADOM("{{nav.path}}../examples/TopicDOC/MGIS_QA.html");
        }

         // 不影响当前逻辑，用于专用研发团队的打包时挂载MGIS的开发指南,如需修改请联系专用产品研发团队
         if(typeof addMGISGUIDEDOM == 'function'){
            addMGISGUIDEDOM("{{nav.path}}./introduction/3DforWebGL_MGIS.html");
        }
    });
</script>
