import{a as y0}from"./chunk-6S43R6PL.js";import{a as i}from"./chunk-JTWCWMT6.js";import{a as x}from"./chunk-ZCGLU37G.js";import{a as U}from"./chunk-DJQWO2NJ.js";import{a as O0}from"./chunk-Y2ETSBLW.js";import{a as q}from"./chunk-UBHQMGET.js";import{a as O}from"./chunk-EDZQSM3T.js";import{a as F}from"./chunk-NUC3LT2W.js";function y(o,v,n,c,p,f,b,w,j,R,M,z,h,C,E,T){this[0]=q(o,0),this[1]=q(p,0),this[2]=q(j,0),this[3]=q(h,0),this[4]=q(v,0),this[5]=q(f,0),this[6]=q(R,0),this[7]=q(C,0),this[8]=q(n,0),this[9]=q(b,0),this[10]=q(M,0),this[11]=q(E,0),this[12]=q(c,0),this[13]=q(w,0),this[14]=q(z,0),this[15]=q(T,0),this.isMatrix4=!0}y.packedLength=16;y.pack=function(o,v,n){return O.typeOf.object("value",o),O.defined("array",v),n=q(n,0),v[n++]=o[0],v[n++]=o[1],v[n++]=o[2],v[n++]=o[3],v[n++]=o[4],v[n++]=o[5],v[n++]=o[6],v[n++]=o[7],v[n++]=o[8],v[n++]=o[9],v[n++]=o[10],v[n++]=o[11],v[n++]=o[12],v[n++]=o[13],v[n++]=o[14],v[n]=o[15],v};y.unpack=function(o,v,n){return O.defined("array",o),v=q(v,0),F(n)||(n=new y),n[0]=o[v++],n[1]=o[v++],n[2]=o[v++],n[3]=o[v++],n[4]=o[v++],n[5]=o[v++],n[6]=o[v++],n[7]=o[v++],n[8]=o[v++],n[9]=o[v++],n[10]=o[v++],n[11]=o[v++],n[12]=o[v++],n[13]=o[v++],n[14]=o[v++],n[15]=o[v],n};y.clone=function(o,v){if(!!F(o))return F(v)?(v[0]=o[0],v[1]=o[1],v[2]=o[2],v[3]=o[3],v[4]=o[4],v[5]=o[5],v[6]=o[6],v[7]=o[7],v[8]=o[8],v[9]=o[9],v[10]=o[10],v[11]=o[11],v[12]=o[12],v[13]=o[13],v[14]=o[14],v[15]=o[15],v):new y(o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14],o[3],o[7],o[11],o[15])};y.fromArray=y.unpack;y.fromColumnMajorArray=function(o,v){return O.defined("values",o),y.clone(o,v)};y.fromRowMajorArray=function(o,v){return O.defined("values",o),F(v)?(v[0]=o[0],v[1]=o[4],v[2]=o[8],v[3]=o[12],v[4]=o[1],v[5]=o[5],v[6]=o[9],v[7]=o[13],v[8]=o[2],v[9]=o[6],v[10]=o[10],v[11]=o[14],v[12]=o[3],v[13]=o[7],v[14]=o[11],v[15]=o[15],v):new y(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15])};y.fromRotationTranslation=function(o,v,n){return O.typeOf.object("rotation",o),v=q(v,U.ZERO),F(n)?(n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=0,n[4]=o[3],n[5]=o[4],n[6]=o[5],n[7]=0,n[8]=o[6],n[9]=o[7],n[10]=o[8],n[11]=0,n[12]=v.x,n[13]=v.y,n[14]=v.z,n[15]=1,n):new y(o[0],o[3],o[6],v.x,o[1],o[4],o[7],v.y,o[2],o[5],o[8],v.z,0,0,0,1)};y.fromTranslationQuaternionRotationScale=function(o,v,n,c){O.typeOf.object("translation",o),O.typeOf.object("rotation",v),O.typeOf.object("scale",n),F(c)||(c=new y);var p=n.x,f=n.y,b=n.z,w=v.x*v.x,j=v.x*v.y,R=v.x*v.z,M=v.x*v.w,z=v.y*v.y,h=v.y*v.z,C=v.y*v.w,E=v.z*v.z,T=v.z*v.w,N=v.w*v.w,S=w-z-E+N,Z=2*(j-T),L=2*(R+C),W=2*(j+T),B=-w+z-E+N,d=2*(h-M),Y=2*(R-C),P=2*(h+M),X=-w-z+E+N;return c[0]=S*p,c[1]=W*p,c[2]=Y*p,c[3]=0,c[4]=Z*f,c[5]=B*f,c[6]=P*f,c[7]=0,c[8]=L*b,c[9]=d*b,c[10]=X*b,c[11]=0,c[12]=o.x,c[13]=o.y,c[14]=o.z,c[15]=1,c};y.fromTranslationRotationScale=function(o,v){return O.typeOf.object("translationRotationScale",o),y.fromTranslationQuaternionRotationScale(o.translation,o.rotation,o.scale,v)};y.fromTranslation=function(o,v){return O.typeOf.object("translation",o),y.fromRotationTranslation(i.IDENTITY,o,v)};y.fromScale=function(o,v){return O.typeOf.object("scale",o),F(v)?(v[0]=o.x,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=o.y,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=o.z,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v):new y(o.x,0,0,0,0,o.y,0,0,0,0,o.z,0,0,0,0,1)};y.fromUniformScale=function(o,v){return O.typeOf.number("scale",o),F(v)?(v[0]=o,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=o,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=o,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v):new y(o,0,0,0,0,o,0,0,0,0,o,0,0,0,0,1)};var $=new U,I=new U,u=new U;y.fromCamera=function(o,v){O.typeOf.object("camera",o);var n=o.position,c=o.direction,p=o.up;O.typeOf.object("camera.position",n),O.typeOf.object("camera.direction",c),O.typeOf.object("camera.up",p),U.normalize(c,$),U.normalize(U.cross($,p,I),I),U.normalize(U.cross(I,$,u),u);var f=I.x,b=I.y,w=I.z,j=$.x,R=$.y,M=$.z,z=u.x,h=u.y,C=u.z,E=n.x,T=n.y,N=n.z,S=f*-E+b*-T+w*-N,Z=z*-E+h*-T+C*-N,L=j*E+R*T+M*N;return F(v)?(v[0]=f,v[1]=z,v[2]=-j,v[3]=0,v[4]=b,v[5]=h,v[6]=-R,v[7]=0,v[8]=w,v[9]=C,v[10]=-M,v[11]=0,v[12]=S,v[13]=Z,v[14]=L,v[15]=1,v):new y(f,b,w,S,z,h,C,Z,-j,-R,-M,L,0,0,0,1)};y.computePerspectiveFieldOfView=function(o,v,n,c,p){O.typeOf.number.greaterThan("fovY",o,0),O.typeOf.number.lessThan("fovY",o,Math.PI),O.typeOf.number.greaterThan("near",n,0),O.typeOf.number.greaterThan("far",c,0),O.typeOf.object("result",p);var f=Math.tan(o*.5),b=1/f,w=b/v,j=(c+n)/(n-c),R=2*c*n/(n-c);return p[0]=w,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=b,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=j,p[11]=-1,p[12]=0,p[13]=0,p[14]=R,p[15]=0,p};y.computeOrthographicOffCenter=function(o,v,n,c,p,f,b){O.typeOf.number("left",o),O.typeOf.number("right",v),O.typeOf.number("bottom",n),O.typeOf.number("top",c),O.typeOf.number("near",p),O.typeOf.number("far",f),O.typeOf.object("result",b);var w=1/(v-o),j=1/(c-n),R=1/(f-p),M=-(v+o)*w,z=-(c+n)*j,h=-(f+p)*R;return w*=2,j*=2,R*=-2,b[0]=w,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=j,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=R,b[11]=0,b[12]=M,b[13]=z,b[14]=h,b[15]=1,y.halfZRange&&y.multiply(y.ConvertNDCToHalfZRange,b,b),b};y.computePerspectiveOffCenter=function(o,v,n,c,p,f,b){O.typeOf.number("left",o),O.typeOf.number("right",v),O.typeOf.number("bottom",n),O.typeOf.number("top",c),O.typeOf.number("near",p),O.typeOf.number("far",f),O.typeOf.object("result",b);var w=2*p/(v-o),j=2*p/(c-n),R=(v+o)/(v-o),M=(c+n)/(c-n),z=-(f+p)/(f-p),h=-1,C=-2*f*p/(f-p);return b[0]=w,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=j,b[6]=0,b[7]=0,b[8]=R,b[9]=M,b[10]=z,b[11]=h,b[12]=0,b[13]=0,b[14]=C,b[15]=0,y.halfZRange&&y.multiply(y.ConvertNDCToHalfZRange,b,b),b};y.computeInfinitePerspectiveOffCenter=function(o,v,n,c,p,f){O.typeOf.number("left",o),O.typeOf.number("right",v),O.typeOf.number("bottom",n),O.typeOf.number("top",c),O.typeOf.number("near",p),O.typeOf.object("result",f);var b=2*p/(v-o),w=2*p/(c-n),j=(v+o)/(v-o),R=(c+n)/(c-n),M=-1,z=-1,h=-2*p;return f[0]=b,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=w,f[6]=0,f[7]=0,f[8]=j,f[9]=R,f[10]=M,f[11]=z,f[12]=0,f[13]=0,f[14]=h,f[15]=0,y.halfZRange&&y.multiply(y.ConvertNDCToHalfZRange,f,f),f};y.computeViewportTransformation=function(o,v,n,c){O.typeOf.object("result",c),o=q(o,q.EMPTY_OBJECT);var p=q(o.x,0),f=q(o.y,0),b=q(o.width,0),w=q(o.height,0);v=q(v,0),n=q(n,1);var j=b*.5,R=w*.5,M=(n-v)*.5,z=j,h=R,C=M,E=p+j,T=f+R,N=v+M,S=1;return c[0]=z,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=h,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=C,c[11]=0,c[12]=E,c[13]=T,c[14]=N,c[15]=S,c};y.computeView=function(o,v,n,c,p){return O.typeOf.object("position",o),O.typeOf.object("direction",v),O.typeOf.object("up",n),O.typeOf.object("right",c),O.typeOf.object("result",p),p[0]=c.x,p[1]=n.x,p[2]=-v.x,p[3]=0,p[4]=c.y,p[5]=n.y,p[6]=-v.y,p[7]=0,p[8]=c.z,p[9]=n.z,p[10]=-v.z,p[11]=0,p[12]=-U.dot(c,o),p[13]=-U.dot(n,o),p[14]=U.dot(v,o),p[15]=1,p};y.toArray=function(o,v){return O.typeOf.object("matrix",o),F(v)?(v[0]=o[0],v[1]=o[1],v[2]=o[2],v[3]=o[3],v[4]=o[4],v[5]=o[5],v[6]=o[6],v[7]=o[7],v[8]=o[8],v[9]=o[9],v[10]=o[10],v[11]=o[11],v[12]=o[12],v[13]=o[13],v[14]=o[14],v[15]=o[15],v):[o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9],o[10],o[11],o[12],o[13],o[14],o[15]]};y.getElementIndex=function(o,v){return O.typeOf.number.greaterThanOrEquals("row",v,0),O.typeOf.number.lessThanOrEquals("row",v,3),O.typeOf.number.greaterThanOrEquals("column",o,0),O.typeOf.number.lessThanOrEquals("column",o,3),o*4+v};y.getColumn=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.number.greaterThanOrEquals("index",v,0),O.typeOf.number.lessThanOrEquals("index",v,3),O.typeOf.object("result",n);var c=v*4,p=o[c],f=o[c+1],b=o[c+2],w=o[c+3];return n.x=p,n.y=f,n.z=b,n.w=w,n};y.setColumn=function(o,v,n,c){O.typeOf.object("matrix",o),O.typeOf.number.greaterThanOrEquals("index",v,0),O.typeOf.number.lessThanOrEquals("index",v,3),O.typeOf.object("cartesian",n),O.typeOf.object("result",c),c=y.clone(o,c);var p=v*4;return c[p]=n.x,c[p+1]=n.y,c[p+2]=n.z,c[p+3]=n.w,c};y.setTranslation=function(o,v,n){return O.typeOf.object("matrix",o),O.typeOf.object("translation",v),O.typeOf.object("result",n),n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=v.x,n[13]=v.y,n[14]=v.z,n[15]=o[15],n};var f0=new U;y.setScale=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("scale",v),O.typeOf.object("result",n);var c=y.getScale(o,f0),p=U.divideComponents(v,c,f0);return y.multiplyByScale(o,p,n)};y.getRow=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.number.greaterThanOrEquals("index",v,0),O.typeOf.number.lessThanOrEquals("index",v,3),O.typeOf.object("result",n);var c=o[v],p=o[v+4],f=o[v+8],b=o[v+12];return n.x=c,n.y=p,n.z=f,n.w=b,n};y.setRow=function(o,v,n,c){return O.typeOf.object("matrix",o),O.typeOf.number.greaterThanOrEquals("index",v,0),O.typeOf.number.lessThanOrEquals("index",v,3),O.typeOf.object("cartesian",n),O.typeOf.object("result",c),c=y.clone(o,c),c[v]=n.x,c[v+4]=n.y,c[v+8]=n.z,c[v+12]=n.w,c};var p0=new U;y.getScale=function(o,v){return O.typeOf.object("matrix",o),O.typeOf.object("result",v),v.x=U.magnitude(U.fromElements(o[0],o[1],o[2],p0)),v.y=U.magnitude(U.fromElements(o[4],o[5],o[6],p0)),v.z=U.magnitude(U.fromElements(o[8],o[9],o[10],p0)),v};var b0=new U;y.getMaximumScale=function(o){return y.getScale(o,b0),U.maximumComponent(b0)};y.multiply=function(o,v,n){O.typeOf.object("left",o),O.typeOf.object("right",v),O.typeOf.object("result",n);var c=o[0],p=o[1],f=o[2],b=o[3],w=o[4],j=o[5],R=o[6],M=o[7],z=o[8],h=o[9],C=o[10],E=o[11],T=o[12],N=o[13],S=o[14],Z=o[15],L=v[0],W=v[1],B=v[2],d=v[3],Y=v[4],P=v[5],X=v[6],A=v[7],V=v[8],H=v[9],D=v[10],Q=v[11],J=v[12],_=v[13],G=v[14],K=v[15],a=c*L+w*W+z*B+T*d,g=p*L+j*W+h*B+N*d,m=f*L+R*W+C*B+S*d,e=b*L+M*W+E*B+Z*d,s=c*Y+w*P+z*X+T*A,l=p*Y+j*P+h*X+N*A,t=f*Y+R*P+C*X+S*A,o0=b*Y+M*P+E*X+Z*A,v0=c*V+w*H+z*D+T*Q,n0=p*V+j*H+h*D+N*Q,c0=f*V+R*H+C*D+S*Q,k=b*V+M*H+E*D+Z*Q,w0=c*J+w*_+z*G+T*K,j0=p*J+j*_+h*G+N*K,R0=f*J+R*_+C*G+S*K,M0=b*J+M*_+E*G+Z*K;return n[0]=a,n[1]=g,n[2]=m,n[3]=e,n[4]=s,n[5]=l,n[6]=t,n[7]=o0,n[8]=v0,n[9]=n0,n[10]=c0,n[11]=k,n[12]=w0,n[13]=j0,n[14]=R0,n[15]=M0,n};y.add=function(o,v,n){return O.typeOf.object("left",o),O.typeOf.object("right",v),O.typeOf.object("result",n),n[0]=o[0]+v[0],n[1]=o[1]+v[1],n[2]=o[2]+v[2],n[3]=o[3]+v[3],n[4]=o[4]+v[4],n[5]=o[5]+v[5],n[6]=o[6]+v[6],n[7]=o[7]+v[7],n[8]=o[8]+v[8],n[9]=o[9]+v[9],n[10]=o[10]+v[10],n[11]=o[11]+v[11],n[12]=o[12]+v[12],n[13]=o[13]+v[13],n[14]=o[14]+v[14],n[15]=o[15]+v[15],n};y.subtract=function(o,v,n){return O.typeOf.object("left",o),O.typeOf.object("right",v),O.typeOf.object("result",n),n[0]=o[0]-v[0],n[1]=o[1]-v[1],n[2]=o[2]-v[2],n[3]=o[3]-v[3],n[4]=o[4]-v[4],n[5]=o[5]-v[5],n[6]=o[6]-v[6],n[7]=o[7]-v[7],n[8]=o[8]-v[8],n[9]=o[9]-v[9],n[10]=o[10]-v[10],n[11]=o[11]-v[11],n[12]=o[12]-v[12],n[13]=o[13]-v[13],n[14]=o[14]-v[14],n[15]=o[15]-v[15],n};y.multiplyTransformation=function(o,v,n){O.typeOf.object("left",o),O.typeOf.object("right",v),O.typeOf.object("result",n);var c=o[0],p=o[1],f=o[2],b=o[4],w=o[5],j=o[6],R=o[8],M=o[9],z=o[10],h=o[12],C=o[13],E=o[14],T=v[0],N=v[1],S=v[2],Z=v[4],L=v[5],W=v[6],B=v[8],d=v[9],Y=v[10],P=v[12],X=v[13],A=v[14],V=c*T+b*N+R*S,H=p*T+w*N+M*S,D=f*T+j*N+z*S,Q=c*Z+b*L+R*W,J=p*Z+w*L+M*W,_=f*Z+j*L+z*W,G=c*B+b*d+R*Y,K=p*B+w*d+M*Y,a=f*B+j*d+z*Y,g=c*P+b*X+R*A+h,m=p*P+w*X+M*A+C,e=f*P+j*X+z*A+E;return n[0]=V,n[1]=H,n[2]=D,n[3]=0,n[4]=Q,n[5]=J,n[6]=_,n[7]=0,n[8]=G,n[9]=K,n[10]=a,n[11]=0,n[12]=g,n[13]=m,n[14]=e,n[15]=1,n};y.multiplyByMatrix3=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("rotation",v),O.typeOf.object("result",n);var c=o[0],p=o[1],f=o[2],b=o[4],w=o[5],j=o[6],R=o[8],M=o[9],z=o[10],h=v[0],C=v[1],E=v[2],T=v[3],N=v[4],S=v[5],Z=v[6],L=v[7],W=v[8],B=c*h+b*C+R*E,d=p*h+w*C+M*E,Y=f*h+j*C+z*E,P=c*T+b*N+R*S,X=p*T+w*N+M*S,A=f*T+j*N+z*S,V=c*Z+b*L+R*W,H=p*Z+w*L+M*W,D=f*Z+j*L+z*W;return n[0]=B,n[1]=d,n[2]=Y,n[3]=0,n[4]=P,n[5]=X,n[6]=A,n[7]=0,n[8]=V,n[9]=H,n[10]=D,n[11]=0,n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=o[15],n};y.multiplyByTranslation=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("translation",v),O.typeOf.object("result",n);var c=v.x,p=v.y,f=v.z,b=c*o[0]+p*o[4]+f*o[8]+o[12],w=c*o[1]+p*o[5]+f*o[9]+o[13],j=c*o[2]+p*o[6]+f*o[10]+o[14];return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=o[6],n[7]=o[7],n[8]=o[8],n[9]=o[9],n[10]=o[10],n[11]=o[11],n[12]=b,n[13]=w,n[14]=j,n[15]=o[15],n};var r=new U;y.multiplyByUniformScale=function(o,v,n){return O.typeOf.object("matrix",o),O.typeOf.number("scale",v),O.typeOf.object("result",n),r.x=v,r.y=v,r.z=v,y.multiplyByScale(o,r,n)};y.multiplyByScale=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("scale",v),O.typeOf.object("result",n);var c=v.x,p=v.y,f=v.z;return c===1&&p===1&&f===1?y.clone(o,n):(n[0]=c*o[0],n[1]=c*o[1],n[2]=c*o[2],n[3]=0,n[4]=p*o[4],n[5]=p*o[5],n[6]=p*o[6],n[7]=0,n[8]=f*o[8],n[9]=f*o[9],n[10]=f*o[10],n[11]=0,n[12]=o[12],n[13]=o[13],n[14]=o[14],n[15]=1,n)};y.multiplyByVector=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("cartesian",v),O.typeOf.object("result",n);var c=v.x,p=v.y,f=v.z,b=v.w,w=o[0]*c+o[4]*p+o[8]*f+o[12]*b,j=o[1]*c+o[5]*p+o[9]*f+o[13]*b,R=o[2]*c+o[6]*p+o[10]*f+o[14]*b,M=o[3]*c+o[7]*p+o[11]*f+o[15]*b;return n.x=w,n.y=j,n.z=R,n.w=M,n};y.multiplyByPointAsVector=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("cartesian",v),O.typeOf.object("result",n);var c=v.x,p=v.y,f=v.z,b=o[0]*c+o[4]*p+o[8]*f,w=o[1]*c+o[5]*p+o[9]*f,j=o[2]*c+o[6]*p+o[10]*f;return n.x=b,n.y=w,n.z=j,n};y.multiplyByPoint=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("cartesian",v),O.typeOf.object("result",n);var c=v.x,p=v.y,f=v.z,b=o[0]*c+o[4]*p+o[8]*f+o[12],w=o[1]*c+o[5]*p+o[9]*f+o[13],j=o[2]*c+o[6]*p+o[10]*f+o[14];return n.x=b,n.y=w,n.z=j,n};y.multiplyByDirection=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("cartesian",v),O.typeOf.object("result",n);var c=v.x,p=v.y,f=v.z;return n.x=c*o[0]+p*o[4]+f*o[8],n.y=c*o[1]+p*o[5]+f*o[9],n.z=c*o[2]+p*o[6]+f*o[10],n};y.multiplyByScalar=function(o,v,n){return O.typeOf.object("matrix",o),O.typeOf.number("scalar",v),O.typeOf.object("result",n),n[0]=o[0]*v,n[1]=o[1]*v,n[2]=o[2]*v,n[3]=o[3]*v,n[4]=o[4]*v,n[5]=o[5]*v,n[6]=o[6]*v,n[7]=o[7]*v,n[8]=o[8]*v,n[9]=o[9]*v,n[10]=o[10]*v,n[11]=o[11]*v,n[12]=o[12]*v,n[13]=o[13]*v,n[14]=o[14]*v,n[15]=o[15]*v,n};y.multiplyByPlane=function(o,v,n){O.typeOf.object("matrix",o),O.typeOf.object("plane",v),O.typeOf.object("result",n);var c=new y,p=new y;y.inverse(o,c),y.transpose(c,p);var f=new x(v.normal.x,v.normal.y,v.normal.z,v.distance);y.multiplyByVector(p,f,f),n.normal.x=f.x,n.normal.y=f.y,n.normal.z=f.z;var b=U.magnitude(n.normal);return U.normalize(n.normal,n.normal),n.distance=f.w/b,n};y.negate=function(o,v){return O.typeOf.object("matrix",o),O.typeOf.object("result",v),v[0]=-o[0],v[1]=-o[1],v[2]=-o[2],v[3]=-o[3],v[4]=-o[4],v[5]=-o[5],v[6]=-o[6],v[7]=-o[7],v[8]=-o[8],v[9]=-o[9],v[10]=-o[10],v[11]=-o[11],v[12]=-o[12],v[13]=-o[13],v[14]=-o[14],v[15]=-o[15],v};y.transpose=function(o,v){O.typeOf.object("matrix",o),O.typeOf.object("result",v);var n=o[1],c=o[2],p=o[3],f=o[6],b=o[7],w=o[11];return v[0]=o[0],v[1]=o[4],v[2]=o[8],v[3]=o[12],v[4]=n,v[5]=o[5],v[6]=o[9],v[7]=o[13],v[8]=c,v[9]=f,v[10]=o[10],v[11]=o[14],v[12]=p,v[13]=b,v[14]=w,v[15]=o[15],v};y.abs=function(o,v){return O.typeOf.object("matrix",o),O.typeOf.object("result",v),v[0]=Math.abs(o[0]),v[1]=Math.abs(o[1]),v[2]=Math.abs(o[2]),v[3]=Math.abs(o[3]),v[4]=Math.abs(o[4]),v[5]=Math.abs(o[5]),v[6]=Math.abs(o[6]),v[7]=Math.abs(o[7]),v[8]=Math.abs(o[8]),v[9]=Math.abs(o[9]),v[10]=Math.abs(o[10]),v[11]=Math.abs(o[11]),v[12]=Math.abs(o[12]),v[13]=Math.abs(o[13]),v[14]=Math.abs(o[14]),v[15]=Math.abs(o[15]),v};y.equals=function(o,v){return o===v||F(o)&&F(v)&&o[12]===v[12]&&o[13]===v[13]&&o[14]===v[14]&&o[0]===v[0]&&o[1]===v[1]&&o[2]===v[2]&&o[4]===v[4]&&o[5]===v[5]&&o[6]===v[6]&&o[8]===v[8]&&o[9]===v[9]&&o[10]===v[10]&&o[3]===v[3]&&o[7]===v[7]&&o[11]===v[11]&&o[15]===v[15]};y.equalsEpsilon=function(o,v,n){return O.typeOf.number("epsilon",n),o===v||F(o)&&F(v)&&Math.abs(o[0]-v[0])<=n&&Math.abs(o[1]-v[1])<=n&&Math.abs(o[2]-v[2])<=n&&Math.abs(o[3]-v[3])<=n&&Math.abs(o[4]-v[4])<=n&&Math.abs(o[5]-v[5])<=n&&Math.abs(o[6]-v[6])<=n&&Math.abs(o[7]-v[7])<=n&&Math.abs(o[8]-v[8])<=n&&Math.abs(o[9]-v[9])<=n&&Math.abs(o[10]-v[10])<=n&&Math.abs(o[11]-v[11])<=n&&Math.abs(o[12]-v[12])<=n&&Math.abs(o[13]-v[13])<=n&&Math.abs(o[14]-v[14])<=n&&Math.abs(o[15]-v[15])<=n};y.getTranslation=function(o,v){return O.typeOf.object("matrix",o),O.typeOf.object("result",v),v.x=o[12],v.y=o[13],v.z=o[14],v};y.getMatrix3=function(o,v){return O.typeOf.object("matrix",o),O.typeOf.object("result",v),v[0]=o[0],v[1]=o[1],v[2]=o[2],v[3]=o[4],v[4]=o[5],v[5]=o[6],v[6]=o[8],v[7]=o[9],v[8]=o[10],v};y.getRotation=function(o,v){return O.typeOf.object("matrix",o),O.typeOf.object("result",v),v[0]=o[0],v[1]=o[1],v[2]=o[2],v[3]=o[4],v[4]=o[5],v[5]=o[6],v[6]=o[8],v[7]=o[9],v[8]=o[10],v};var z0=new i,h0=new i,C0=new x,T0=new x(0,0,0,1);y.inverse=function(o,v){O.typeOf.object("matrix",o),O.typeOf.object("result",v);var n=o[0],c=o[4],p=o[8],f=o[12],b=o[1],w=o[5],j=o[9],R=o[13],M=o[2],z=o[6],h=o[10],C=o[14],E=o[3],T=o[7],N=o[11],S=o[15],Z=h*S,L=C*N,W=z*S,B=C*T,d=z*N,Y=h*T,P=M*S,X=C*E,A=M*N,V=h*E,H=M*T,D=z*E,Q=Z*w+B*j+d*R-(L*w+W*j+Y*R),J=L*b+P*j+V*R-(Z*b+X*j+A*R),_=W*b+X*w+H*R-(B*b+P*w+D*R),G=Y*b+A*w+D*j-(d*b+V*w+H*j),K=L*c+W*p+Y*f-(Z*c+B*p+d*f),a=Z*n+X*p+A*f-(L*n+P*p+V*f),g=B*n+P*c+D*f-(W*n+X*c+H*f),m=d*n+V*c+H*p-(Y*n+A*c+D*p);Z=p*R,L=f*j,W=c*R,B=f*w,d=c*j,Y=p*w,P=n*R,X=f*b,A=n*j,V=p*b,H=n*w,D=c*b;var e=Z*T+B*N+d*S-(L*T+W*N+Y*S),s=L*E+P*N+V*S-(Z*E+X*N+A*S),l=W*E+X*T+H*S-(B*E+P*T+D*S),t=Y*E+A*T+D*N-(d*E+V*T+H*N),o0=W*h+Y*C+L*z-(d*C+Z*z+B*h),v0=A*C+Z*M+X*h-(P*h+V*C+L*M),n0=P*z+D*C+B*M-(H*C+W*M+X*z),c0=H*h+d*M+V*z-(A*z+D*h+Y*M),k=n*Q+c*J+p*_+f*G;if(Math.abs(k)<O0.EPSILON21){if(i.equalsEpsilon(y.getRotation(o,z0),h0,O0.EPSILON5)&&x.equals(y.getRow(o,3,C0),T0))return v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=0,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=0,v[11]=0,v[12]=-o[12],v[13]=-o[13],v[14]=-o[14],v[15]=1,v;throw new y0("matrix is not invertible because its determinate is zero.")}return k=1/k,v[0]=Q*k,v[1]=J*k,v[2]=_*k,v[3]=G*k,v[4]=K*k,v[5]=a*k,v[6]=g*k,v[7]=m*k,v[8]=e*k,v[9]=s*k,v[10]=l*k,v[11]=t*k,v[12]=o0*k,v[13]=v0*k,v[14]=n0*k,v[15]=c0*k,v};y.inverseTransformation=function(o,v){O.typeOf.object("matrix",o),O.typeOf.object("result",v);var n=o[0],c=o[1],p=o[2],f=o[4],b=o[5],w=o[6],j=o[8],R=o[9],M=o[10],z=o[12],h=o[13],C=o[14],E=-n*z-c*h-p*C,T=-f*z-b*h-w*C,N=-j*z-R*h-M*C;return v[0]=n,v[1]=f,v[2]=j,v[3]=0,v[4]=c,v[5]=b,v[6]=R,v[7]=0,v[8]=p,v[9]=w,v[10]=M,v[11]=0,v[12]=E,v[13]=T,v[14]=N,v[15]=1,v};var E0=new y;y.inverseTranspose=function(o,v){return O.typeOf.object("matrix",o),O.typeOf.object("result",v),y.inverse(y.transpose(o,E0),v)};y.IDENTITY=Object.freeze(new y(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1));y.ZERO=Object.freeze(new y(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0));y.ConvertNDCToHalfZRange=Object.freeze(new y(1,0,0,0,0,1,0,0,0,0,.5,.5,0,0,0,1));y.COLUMN0ROW0=0;y.COLUMN0ROW1=1;y.COLUMN0ROW2=2;y.COLUMN0ROW3=3;y.COLUMN1ROW0=4;y.COLUMN1ROW1=5;y.COLUMN1ROW2=6;y.COLUMN1ROW3=7;y.COLUMN2ROW0=8;y.COLUMN2ROW1=9;y.COLUMN2ROW2=10;y.COLUMN2ROW3=11;y.COLUMN3ROW0=12;y.COLUMN3ROW1=13;y.COLUMN3ROW2=14;y.COLUMN3ROW3=15;y.halfZRange=!1;Object.defineProperties(y.prototype,{length:{get:function(){return y.packedLength}}});y.prototype.clone=function(o){return y.clone(this,o)};y.prototype.equals=function(o){return y.equals(this,o)};y.equalsArray=function(o,v,n){return o[0]===v[n]&&o[1]===v[n+1]&&o[2]===v[n+2]&&o[3]===v[n+3]&&o[4]===v[n+4]&&o[5]===v[n+5]&&o[6]===v[n+6]&&o[7]===v[n+7]&&o[8]===v[n+8]&&o[9]===v[n+9]&&o[10]===v[n+10]&&o[11]===v[n+11]&&o[12]===v[n+12]&&o[13]===v[n+13]&&o[14]===v[n+14]&&o[15]===v[n+15]};y.prototype.equalsEpsilon=function(o,v){return y.equalsEpsilon(this,o,v)};y.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+`)
(`+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+`)
(`+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+`)
(`+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"};y.prototype.toArray=function(o,v){y.pack(this,o,v)};var d0=y;export{d0 as a};
