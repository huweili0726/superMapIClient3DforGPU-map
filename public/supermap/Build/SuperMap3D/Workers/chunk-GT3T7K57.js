import{a as T}from"./chunk-EHDXVZQM.js";import{a}from"./chunk-UBHQMGET.js";import{a as M}from"./chunk-NUC3LT2W.js";var N={UNSIGNED_BYTE:T.UNSIGNED_BYTE,UNSIGNED_SHORT:T.UNSIGNED_SHORT,UNSIGNED_INT:T.UNSIGNED_INT,FLOAT:T.FLOAT,HALF_FLOAT:T.HALF_FLOAT_OES,UNSIGNED_INT_24_8:T.UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:T.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:T.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:T.UNSIGNED_SHORT_5_6_5,isPacked:function(_){return _===N.UNSIGNED_INT_24_8||_===N.UNSIGNED_SHORT_4_4_4_4||_===N.UNSIGNED_SHORT_5_5_5_1||_===N.UNSIGNED_SHORT_5_6_5},sizeInBytes:function(_){switch(_){case N.UNSIGNED_BYTE:return 1;case N.UNSIGNED_SHORT:case N.UNSIGNED_SHORT_4_4_4_4:case N.UNSIGNED_SHORT_5_5_5_1:case N.UNSIGNED_SHORT_5_6_5:case T.HALF_FLOAT:case T.HALF_FLOAT_OES:return 2;case N.UNSIGNED_INT:case N.FLOAT:case N.UNSIGNED_INT_24_8:return 4}},validate:function(_){return _===N.UNSIGNED_BYTE||_===N.UNSIGNED_SHORT||_===N.UNSIGNED_INT||_===N.FLOAT||_===T.HALF_FLOAT||_===T.HALF_FLOAT_OES||_===N.UNSIGNED_INT_24_8||_===N.UNSIGNED_SHORT_4_4_4_4||_===N.UNSIGNED_SHORT_5_5_5_1||_===N.UNSIGNED_SHORT_5_6_5}};N.toWebGLConstant=function(_,R){switch(_){case N.UNSIGNED_BYTE:return T.UNSIGNED_BYTE;case N.UNSIGNED_SHORT:return T.UNSIGNED_SHORT;case N.UNSIGNED_INT:return T.UNSIGNED_INT;case N.FLOAT:return T.FLOAT;case N.HALF_FLOAT:return R.webgl2?T.HALF_FLOAT:T.HALF_FLOAT_OES;case N.UNSIGNED_INT_24_8:return T.UNSIGNED_INT_24_8;case N.UNSIGNED_SHORT_4_4_4_4:return T.UNSIGNED_SHORT_4_4_4_4;case N.UNSIGNED_SHORT_5_5_5_1:return T.UNSIGNED_SHORT_5_5_5_1;case N.UNSIGNED_SHORT_5_6_5:return N.UNSIGNED_SHORT_5_6_5}};var B=N;var E={DEPTH_COMPONENT:T.DEPTH_COMPONENT,DEPTH_COMPONENT16:T.DEPTH_COMPONENT16,DEPTH_COMPONENT32F:T.DEPTH_COMPONENT32F,DEPTH_STENCIL:T.DEPTH_STENCIL,ALPHA:T.ALPHA,RGB:T.RGB,RG:T.RG,RGBA:T.RGBA,RGBA_INTEGER:T.RGBA_INTEGER,LUMINANCE:T.LUMINANCE,LUMINANCE_ALPHA:T.LUMINANCE_ALPHA,RGB_DXT1:T.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:T.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:T.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:T.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:T.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:T.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:T.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:T.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGBA_ASTC:T.COMPRESSED_RGBA_ASTC_4x4_WEBGL,RGB_ETC1:T.COMPRESSED_RGB_ETC1_WEBGL,RED_INTEGER:T.RED_INTEGER,RED:T.RED,RGB8_ETC2:T.COMPRESSED_RGB8_ETC2,RGBA8_ETC2_EAC:T.COMPRESSED_RGBA8_ETC2_EAC,RGBA_BC7:T.COMPRESSED_RGBA_BPTC_UNORM,componentsLength:function(_,R){switch(R=a(R,B.UNSIGNED_BYTE),_){case E.RGB:switch(R){case B.UNSIGNED_SHORT_5_6_5:return 1;default:return 3}case E.RGBA:case E.RGBA_INTEGER:return 4;case E.LUMINANCE_ALPHA:case E.RG:return 2;case E.ALPHA:case E.LUMINANCE:case E.RED:case E.RED_INTEGER:return 1;default:return 1}},validate:function(_){return _===E.DEPTH_COMPONENT||_===E.DEPTH_COMPONENT16||_===E.DEPTH_COMPONENT32F||_===E.DEPTH_STENCIL||_===E.ALPHA||_===E.RED||_===E.RED_INTEGER||_===E.RG||_===E.RGB||_===E.RGBA||_===E.RGBA_INTEGER||_===E.LUMINANCE||_===E.LUMINANCE_ALPHA||_===E.RGB_DXT1||_===E.RGBA_DXT1||_===E.RGBA_DXT3||_===E.RGBA_DXT5||_===E.RGB_PVRTC_4BPPV1||_===E.RGB_PVRTC_2BPPV1||_===E.RGBA_PVRTC_4BPPV1||_===E.RGBA_PVRTC_2BPPV1||_===E.RGBA_ASTC||_===E.RGB_ETC1||_===E.RGB8_ETC2||_===E.RGBA8_ETC2_EAC||_===E.RGBA_BC7},isColorFormat:function(_){return _===E.ALPHA||_===E.RED||_===E.RED_INTEGER||_===E.RGB||_===E.RGBA||_===E.LUMINANCE||_===E.LUMINANCE_ALPHA},isDepthFormat:function(_){return _===E.DEPTH_COMPONENT||_===E.DEPTH_COMPONENT16||_===E.DEPTH_COMPONENT32F||_===E.DEPTH_STENCIL},isCompressedFormat:function(_){return _===E.RGB_DXT1||_===E.RGBA_DXT1||_===E.RGBA_DXT3||_===E.RGBA_DXT5||_===E.RGB_PVRTC_4BPPV1||_===E.RGB_PVRTC_2BPPV1||_===E.RGBA_PVRTC_4BPPV1||_===E.RGBA_PVRTC_2BPPV1||_===E.RGBA_ASTC||_===E.RGB_ETC1||_===E.RGB8_ETC2||_===E.RGBA8_ETC2_EAC||_===E.RGBA_BC7},isDXTFormat:function(_){return _===E.RGB_DXT1||_===E.RGBA_DXT1||_===E.RGBA_DXT3||_===E.RGBA_DXT5},isPVRTCFormat:function(_){return _===E.RGB_PVRTC_4BPPV1||_===E.RGB_PVRTC_2BPPV1||_===E.RGBA_PVRTC_4BPPV1||_===E.RGBA_PVRTC_2BPPV1},isETC1Format:function(_){return _===E.RGB_ETC1},compressedTextureSizeInBytes:function(_,R,r,P){var G=M(P)?P:1;switch(_){case E.RGB_DXT1:case E.RGBA_DXT1:case E.RGB_ETC1:case E.RGB8_ETC2:return Math.floor((R+3)/4)*Math.floor((r+3)/4)*8*G;case E.RGBA_DXT3:case E.RGBA_DXT5:case E.RGBA_ASTC:case E.RGBA8_ETC2_EAC:return Math.floor((R+3)/4)*Math.floor((r+3)/4)*16*G;case E.RGB_PVRTC_4BPPV1:case E.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(R,8)*Math.max(r,8)*4+7)/8)*G;case E.RGB_PVRTC_2BPPV1:case E.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(R,16)*Math.max(r,8)*2+7)/8)*G;case E.RGBA_BC7:return Math.ceil(R/4)*Math.ceil(r/4)*16;default:return 0}},textureSizeInBytes:function(_,R,r,P,G){var n=M(G)?G:1,A=E.componentsLength(_);return B.isPacked(R)&&(A=1),A*B.sizeInBytes(R)*r*P*n},alignmentInBytes:function(_,R,r){var P=E.textureSizeInBytes(_,R,r,1)%4;return P===0?4:P===2?2:1},createTypedArray:function(_,R,r,P){var G,n=B.sizeInBytes(R);n===Uint8Array.BYTES_PER_ELEMENT?G=Uint8Array:n===Uint16Array.BYTES_PER_ELEMENT?G=Uint16Array:n===Float32Array.BYTES_PER_ELEMENT&&R===B.FLOAT?G=Float32Array:G=Uint32Array;var A=E.componentsLength(_)*r*P;return new G(A)},flipY:function(_,R,r,P,G){if(G===1)return _;for(var n=E.createTypedArray(R,r,P,G),A=E.componentsLength(R),I=P*A,S=0;S<G;++S)for(var O=S*P*A,u=(G-S-1)*P*A,C=0;C<I;++C)n[u+C]=_[O+C];return n},convertPixelFormat:function(_){var{sourceBufferView:R,sourceFormat:r,sourceDataType:P,targetFormat:G,targetDataType:n,width:A,height:I}=_;if(G!==E.RGBA&&n!=B.UNSIGNED_BYTE)throw new Error("\u4EC5\u652F\u6301\u8F6C\u6362\u4E3ARGBA\u683C\u5F0F");for(var S=E.createTypedArray(G,n,A,I),O=E.componentsLength(r,P),u=4,C=A*O,V=I*u,t=0;t<I;t++)for(var H=0;H<A;H++){var c=t*C+H*O,U=t*V+H*u,s,e,D,L;switch(P){case B.UNSIGNED_BYTE:switch(r){case E.RGB:s=R[c],e=R[c+1],D=R[c+2],L=255;break;case E.LUMINANCE_ALPHA:s=R[c],e=0,D=0,L=R[c+1];break;default:break}break;case B.UNSIGNED_SHORT_5_6_5:var f=R[c];s=f>>11&31,e=f>>5&63,D=f&31,s=s<<3|s>>2,e=e<<2|e>>4,D=D<<3|D>>2,L=255;break;default:throw new Error(`\u4E0D\u652F\u6301\u8F6C\u6362\u7684\u6E90\u683C\u5F0F\uFF1A${r}`)}S[U]=s,S[U+1]=e,S[U+2]=D,S[U+3]=L}return S}};E.toInternalFormat=function(_,R,r){if(!r.webgl2)return _;if(_===E.DEPTH_STENCIL)return T.DEPTH24_STENCIL8;if(_===E.DEPTH_COMPONENT){if(R===B.UNSIGNED_SHORT)return T.DEPTH_COMPONENT16;if(R===B.UNSIGNED_INT)return T.DEPTH_COMPONENT24;if(R===B.FLOAT)return T.DEPTH_COMPONENT32F}if(_===E.DEPTH_COMPONENT16)return T.DEPTH_COMPONENT16;if(_===E.DEPTH_COMPONENT32F)return T.DEPTH_COMPONENT32F;if(R===B.UNSIGNED_BYTE)switch(_){case E.RGBA:return T.RGBA8;case E.RGB:return T.RGB8;case E.RED:return T.R8}if(R===B.UNSIGNED_SHORT_4_4_4_4)switch(_){case E.RGBA:return T.RGBA4}if(R===B.FLOAT)switch(_){case E.RGBA:return T.RGBA32F;case E.RGB:return T.RGB32F;case E.RG:return T.RG32F;case E.RED:return T.R32F}if(R===B.HALF_FLOAT)switch(_){case E.RGBA:return T.RGBA16F;case E.RGB:return T.RGB16F;case E.RG:return T.RG16F;case E.RED:return T.R16F}if(R===B.INT)switch(_){case E.RGBA_INTEGER:return T.RGBA32I;case E.RED_INTEGER:return T.R32I}if(R===B.UNSIGNED_INT)switch(_){case E.RGBA_INTEGER:return T.RGBA32UI;case E.RED_INTEGER:return T.R32UI}return _};var z=Object.freeze(E);export{B as a,z as b};
